{"version":3,"file":"ProductRating-dbg.js","names":["ProductRating","Control","extend","renderer","apiVersion","render","rm","control","tooltip","getTooltip_AsString","openStart","class","attr","openEnd","renderControl","getAggregation","close","metadata","properties","value","type","defaultValue","aggregations","_rating","multiple","visibility","_label","_button","events","change","parameters","constructor","_constructor","id","settings","Control.prototype.constructor.call","init","_init","setAggregation","RatingIndicator","getValue","iconSize","liveChange","_onRate","bind","Label","text","addStyleClass","Button","press","_onSubmit","setValue","_setValue","setProperty","reset","_reset","resourceBundle","getModel","getResourceBundle","setDesign","setEnabled","setText","getText","event","getParameter","getSource","getMaxValue","fireEvent"],"sources":["ProductRating.ts"],"sourcesContent":["import Control from \"sap/ui/core/Control\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport {MetadataOptions} from \"sap/ui/core/Element\";\nimport Label from \"sap/m/Label\";\nimport Button, {Button$PressEvent} from \"sap/m/Button\";\nimport RatingIndicator, {RatingIndicator$LiveChangeEvent} from \"sap/m/RatingIndicator\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\n\n/**\n * @namespace project_d.control\n */\nexport default class ProductRating extends Control {\n    // The following three lines were generated and should remain as-is to make TypeScript aware of the constructor signatures\n    constructor(idOrSettings?: string | $ProductRatingSettings);\n    constructor(id?: string, settings?: $ProductRatingSettings);\n    constructor(id?: string, settings?: $ProductRatingSettings) {\n        super(id, settings);\n    }\n\n    static readonly metadata: MetadataOptions = {\n        properties: {\n            value: {\n                type: \"float\",\n                defaultValue: 0\n            }\n        },\n        aggregations: {\n            _rating: {\n                type: \"sap.m.RatingIndicator\",\n                multiple: false,\n                visibility: \"hidden\"\n            },\n            _label: {\n                type: \"sap.m.Label\",\n                multiple: false,\n                visibility: \"hidden\"\n            },\n            _button: {\n                type: \"sap.m.Button\",\n                multiple: false,\n                visibility: \"hidden\"\n            }\n        },\n        events: {\n            change: {\n                parameters: {\n                    \"value\": \"float\"\n                }\n            }\n        }\n    }\n\n    init(): void {\n        this.setAggregation(\"_rating\", new RatingIndicator({\n            value: this.getValue(),\n            iconSize: \"2rem\",\n            liveChange: this._onRate.bind(this)\n        }));\n        this.setAggregation(\"_label\", new Label({\n            text: \"{i18n>productRatingLabelInitial}\"\n        }).addStyleClass(\"sapUiSmallMargin\"));\n        this.setAggregation(\"_button\", new Button({\n            text: \"{i18n>productRatingButton}\",\n            press: this._onSubmit.bind(this)\n        }).addStyleClass(\"sapUiTinyMarginTopBottom\"));\n    }\n\n    setValue(value: \"float\"): ProductRating {\n        this.setProperty(\"value\", value, true);\n        (this.getAggregation(\"_rating\") as RatingIndicator).setValue(value);\n\n        return this;\n    }\n\n    reset(): void {\n        const resourceBundle = (this?.getModel(\"i18n\") as ResourceModel)?.getResourceBundle() as ResourceBundle;\n\n        this.setValue(0);\n        (this.getAggregation(\"_label\") as Label).setDesign(\"Standard\");\n        (this.getAggregation(\"_rating\") as RatingIndicator).setEnabled(true);\n        (this.getAggregation(\"_label\") as Label).setText(resourceBundle.getText(\"productRatingLabelInitial\"));\n        (this.getAggregation(\"_button\") as Button).setEnabled(true);\n    }\n\n    _onRate(event: RatingIndicator$LiveChangeEvent): void {\n        const resourceBundle = (this?.getModel(\"i18n\") as ResourceModel)?.getResourceBundle() as ResourceBundle;\n        const value = event.getParameter(\"value\");\n\n        this.setProperty(\"value\", value, true);\n\n        (this.getAggregation(\"_label\") as Label).setText(resourceBundle.getText(\"productRatingLabelIndicator\", [value, (event.getSource() as RatingIndicator).getMaxValue()]));\n        (this.getAggregation(\"_label\") as Label).setDesign(\"Bold\");\n    }\n\n    _onSubmit(event: Button$PressEvent): void {\n        const resourceBundle = (this?.getModel(\"i18n\") as ResourceModel)?.getResourceBundle() as ResourceBundle;\n\n        (this.getAggregation(\"_rating\") as RatingIndicator).setEnabled(false);\n        (this.getAggregation(\"_label\") as Label).setText(resourceBundle.getText(\"productRatingLabelFinal\"));\n        (this.getAggregation(\"_button\") as Button).setEnabled(false);\n        this.fireEvent(\"change\", {\n            value: this.getValue()\n        })\n    }\n\n    static renderer = {\n        apiVersion: 4,\n        render: (rm: RenderManager, control: ProductRating) => {\n            const tooltip = control.getTooltip_AsString();\n            rm.openStart(\"div\", control);\n            rm.class(\"myAppDemoWTProductRating\");\n            if (tooltip) {\n                rm.attr(\"title\", tooltip);\n            }\n            rm.openEnd();\n            rm.renderControl(control.getAggregation(\"_rating\") as Control);\n            rm.renderControl(control.getAggregation(\"_label\") as Control);\n            rm.renderControl(control.getAggregation(\"_button\") as Control);\n            rm.close(\"div\");\n        }\n    }\n};\n"],"mappings":"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","ignoreList":[]}